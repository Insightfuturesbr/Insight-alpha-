{% extends "public/base.html" %}
{% block title %}Upload - Insight Futures{% endblock %}

{# chave que o main.js usa para carregar js/upload.js automaticamente #}
{% block page_key %}upload{% endblock %}

{# se o seu base.html usa um wrapper de body, mantenha o mesmo bloco;
caso nÃ£o exista, troque por {% block body %}{% endblock %} #}
{% block body_wrapper %}
<main data-page="upload">

  <!-- Inicio Upload-->
  <section id="upload-dados" class="pt-36">
    <div class="grid grid-cols-1 md:grid-cols-7 gap-6 items-center text-gray-300 px-8">

      <!-- EspaÃ§o vazio Ã  esquerda -->
      <div class="col-span-1"></div>

      <!-- IntegraÃ§Ã£o com Plataformas -->
      <div class="col-span-2 flex flex-col items-center text-center">
        <!-- (seu SVG/markup original) -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-20 w-auto text-cyan-400 mb-4" fill="none" viewBox="0 0 64 64"
          stroke="currentColor" stroke-width="2">
          <path d="M20 26c0-8 10-12 16-6 2-4 8-4 10 0 6-1 10 4 10 10 0 7-6 10-12 10H18c-5 0-10-4-10-9 0-6 5-9 12-9" />
          <text x="22" y="32" font-size="10" fill="currentColor" font-family="Arial, sans-serif">API</text>
          <g transform="translate(42 31)">
            <circle cx="0" cy="0" r="3" stroke="currentColor" fill="none" />
            <path
              d="M0 -5 L0 -3 M0 3 L0 5 M-5 0 L-3 0 M3 0 L5 0 M-3 -3 L-2.1 -2.1 M3 3 L2.1 2.1 M-3 3 L-2.1 2.1 M3 -3 L2.1 -2.1" />
          </g>
          <circle cx="16" cy="54" r="3" />
          <circle cx="32" cy="58" r="3" />
          <circle cx="48" cy="54" r="3" />
          <path d="M24 36 L16 51" />
          <path d="M32 36 L32 55" />
          <path d="M40 36 L48 51" />
        </svg>

        <h3 class="text-lg font-semibold text-white mb-2">
          IntegraÃ§Ã£o com Plataformas
        </h3>
        <p class="text-sm leading-relaxed mb-2">
          Conecte sua estratÃ©gia diretamente com o <br>Profit, MetaTrader e outras APIs para receber <br>sinais em tempo
          real.
        </p>
        <span class="text-xs text-gray-500 italic">IntegraÃ§Ã£o ainda nÃ£o disponÃ­vel</span>
      </div>

      <!-- EspaÃ§o vazio ao centro -->
      <div class="col-span-1"></div>

      <!-- Upload de EstratÃ©gia -->
      <div class="col-span-2 flex flex-col items-center text-center mt-10">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-auto text-yellow-400 mb-4" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 16V4m0 0l-5 5m5-5l5 5M4 20h16" />
        </svg>
        <h3 class="text-lg font-semibold text-white mb-2">
          Upload de EstratÃ©gia
        </h3>
        <p class="text-sm leading-relaxed mb-4">
          Ou faÃ§a o upload manual da sua planilha de operaÃ§Ãµes<br>para iniciar a anÃ¡lise da Insight Futures.
        </p>

        <!-- mantÃ©m seu form e action; o upload.js usa preventDefault -->
        <form id="formUpload" method="post" enctype="multipart/form-data" action="{{ url_for('upload_routes.upload') }}"
          class="flex items-center gap-4">
          <input type="file" name="file" accept=".csv,.xlsx"
            class="p-1 rounded bg-[#1E293B] border border-gray-600 text-white text-sm">
          <button type="submit"
            class="bg-cyan-500 hover:bg-lime-400 text-black py-1 px-4 rounded-lg font-semibold text-sm">
            Enviar
          </button>
        </form>
        <p id="statusUpload" class="mt-2 text-xs text-gray-400"></p>
      </div>

      <!-- EspaÃ§o vazio Ã  direita-->
      <div class="col-span-1"></div>
    </div>
    <!--Fim upload-->
  </section>

  <!--      MODAL PLACEHOLDER -->
  <div id="modalPlaceholder" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
    <div id="modalContent"
      class="bg-[#0A192F] border border-cyan-500 rounded-xl shadow-lg p-8 max-w-md w-full text-center animate-pulse">
      <h2 class="text-2xl font-bold text-white mb-4">ğŸš« Nenhum Dado Carregado</h2>
      <p class="text-gray-300 mb-6">
        FaÃ§a o upload da sua estratÃ©gia para iniciar a anÃ¡lise.
      </p>
      <button id="botaoIrParaUpload"
        class="bg-lime-500 hover:bg-lime-400 text-black font-semibold px-6 py-2 rounded-lg transition">
        ğŸ“‚ Ir para Upload
      </button>
    </div>
  </div>

</main>
{% endblock %}

{# Deixe vazio â€“ o main.js carrega js/upload.js automaticamente pela page_key #}
{% block scripts %}{% endblock %}
#004080

<!-- Sidebar fixa com ícones centralizados -->
<aside
  class="fixed left-0 top-0 h-screen w-[84px] md:w-20 z-40
         flex flex-col items-center justify-between
         bg-gradient-to-b from-[#12002f] via-[#0a1b2f] to-[#05101f]
         border-r border-white/10">

  <!-- Marca -->
  <a href="{{ url_for('painel_routes.dashboard') }}" class="mt-3">
    <img src="{{ url_for('static', filename='img/marca.png') }}" alt="Insight Futures" class="w-8 h-8">
  </a>

  <!-- Navegação -->
    <nav class="sidebar__nav flex-1 px-1 flex flex-col items-center justify-center gap-2">
    {% set path = request.path %}

    {% macro item(href, active, label, icon) -%}
      <a href="{{ href }}"
         class="group w-16 min-h-14 px-1 py-2 rounded-xl
                flex flex-col items-center justify-center gap-1
                text-[10px] leading-tight text-center break-words
                {{ 'text-cyan-300 bg-white/5 ring-1 ring-white/10' if active else 'text-slate-300 hover:text-white hover:bg-white/5' }}"
         aria-current="{{ 'page' if active }}">
        {{ icon|safe }}
        <span>{{ label }}</span>
      </a>
    {%- endmacro %}

    {{ item(url_for('painel_routes.dashboard'),
            path.startswith('/painel/dashboard'),
            'Dashboard',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z"/>
             </svg>') }}

    {{ item(url_for('painel_routes.upload_page'),
            path.startswith('/painel/upload'),
            'Upload',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5-5m0 0l5 5m-5-5v12"/>
             </svg>') }}

    {{ item(url_for('painel_routes.pagina_estrategias'),
             path.startswith('/painel/estrategias'),
           'Minhas Estratégias',
          '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" stroke="currentColor">
            <path d="M3 12L12 3l9 9v9H3z" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>') }}


    {{ item(url_for('painel_routes.analise_pre'),
            path.startswith('/painel/analise-prepadronizada'),
            'Análise Geral\nda estratégia',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M11 11V3m4 8V5m4 6V7M7 11v6m-4 0h18M3 21h18"/>
             </svg>') }}

    {{ item(url_for('painel_routes.analise_pad'),
            path.startswith('/painel/analise-padronizada'),
            'Resultados\nda Estratégia',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M9 17v-6m4 6V7m4 10V9M5 21h14M5 3h14"/>
             </svg>') }}

    {{ item(url_for('painel_routes.analise_drawdown'),
            path.startswith('/painel/analise-drawdown'),
            'Drawdown',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M3 3v18h18M7 9l4 4 3-3 4 4"/>
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M18 8l-6 6-3-3-4 4"/>
             </svg>') }}

    {{ item(url_for('painel_routes.parametrizacao'),
            path.startswith('/painel/parametrizacao-backtest'),
            'Backtest',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M11 5l-7 7h4v7h6v-7h4l-7-7z"/>
             </svg>') }}

    {{ item(url_for('painel_routes.comparativo'),
            path.startswith('/painel/comparativo'),
            'Comparativo',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M7 21V9m5 12V3m5 18v-6"/>
             </svg>') }}

    {{ item(url_for('painel_routes.insights'),
            path.startswith('/painel/insights'),
            'Insights',
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M13 16h-1v-4h-1m1-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z"/>
             </svg>') }}

    {{ item(url_for('painel_routes.exportacoes'),
            path.startswith('/painel/exportacoes'),
            "API's e Exportações",
            '<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round"
                     d="M4 4h16v6M4 10l8 8 8-8M12 18V8"/>
             </svg>') }}
  </nav>

  <!-- Rodapé da barra -->
  <div class="pb-3 text-center">
    <a href="{{ url_for('auth_routes.logout') }}"
       class="text-[11px] text-slate-400 hover:text-white">Sair</a>
  </div>
</aside>
